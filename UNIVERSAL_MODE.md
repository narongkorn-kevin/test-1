# üåç Universal Mode - ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå DXF ‡πÑ‡∏´‡∏ô‡∏Å‡πá‡πÑ‡∏î‡πâ!

## ‚ú® ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå DXF ‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÅ‡∏•‡πâ‡∏ß!

‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏à‡∏∞ **Auto-Detect** ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥:

1. ‚úÖ **Units** - m, mm, ft, in
2. ‚úÖ **Room Layers** - ‡∏´‡∏≤ layers ‡∏ó‡∏µ‡πà‡∏°‡∏µ closed polygons
3. ‚úÖ **Offset** - ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å architectural layers
4. ‚úÖ **Building Type** - ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå

**‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£!** üöÄ

---

## üéØ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå DXF ‡πÉ‡∏î ‡πÜ:

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: GUI (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

```bash
./run_gui.sh
```

1. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå DXF **‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏´‡∏ô‡∏Å‡πá‡πÑ‡∏î‡πâ**
2. ‚úÖ ‡πÄ‡∏ä‡πá‡∏Ñ "Auto Mode" (‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏î‡∏¢ default)
3. ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•"
4. ‡πÄ‡∏™‡∏£‡πá‡∏à!

**Auto Mode ‡∏à‡∏∞:**
- ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ß‡∏±‡∏î‡∏à‡∏≤‡∏Å‡∏Ç‡∏ô‡∏≤‡∏î‡πÅ‡∏ö‡∏ö
- ‡∏´‡∏≤ room layers ‡∏ó‡∏µ‡πà‡∏°‡∏µ closed polygons
- ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì offset ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- ‡∏ß‡∏≤‡∏á detectors ‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: Command Line

```bash
./auto_place_detectors.sh your_file.dxf
```

‡∏´‡∏£‡∏∑‡∏≠

```bash
python3 smoke_detector_placer.py your_file.dxf
```

**‡πÅ‡∏Ñ‡πà‡∏ô‡∏±‡πâ‡∏ô‡πÅ‡∏´‡∏•‡∏∞!** ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°

---

## üè¢ ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÑ‡∏ü‡∏•‡πå DXF ‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö:

### ‚úÖ Floor Plans
- Office buildings
- Residential buildings
- Commercial spaces
- Mixed-use buildings

### ‚úÖ Reflected Ceiling Plans (RCP)
- RCP with room zones
- RCP with architectural elements
- RCP with separate coordinate systems

### ‚úÖ Any DXF with Closed Polygons
- ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ closed LWPOLYLINE ‡∏´‡∏£‡∏∑‡∏≠ POLYLINE
- ‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡∏´‡πâ‡∏≠‡∏á
- ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ!

---

## ü§ñ Auto-Detection ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£:

### 1. Units Detection

‡∏à‡∏≤‡∏Å‡∏Ç‡∏ô‡∏≤‡∏î‡πÅ‡∏ö‡∏ö:
```
> 2000 units  ‚Üí mm (millimeters)
50-2000 units ‚Üí m (meters)  
< 50 units    ‚Üí ft (feet)
```

### 2. Room Layer Detection

‡∏´‡∏≤ layers ‡∏ó‡∏µ‡πà‡∏°‡∏µ:
- Closed polygons (LWPOLYLINE, POLYLINE)
- Valid area > 0
- ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô >= 1 polygon

‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á layers ‡∏ó‡∏µ‡πà‡∏°‡∏±‡∏Å‡πÄ‡∏à‡∏≠:
- ROOMS
- WALLS
- ARCHITECTURE
- 00_VAV_ZONE
- SPACES

### 3. Offset Detection

‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å:
- Room center vs Architectural layer center
- ‡πÉ‡∏ä‡πâ priority layers: WALL, A-WALL, I-WALL, A-CLNG
- ‡∏ñ‡πâ‡∏≤ offset < 1% ‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ô‡∏≤‡∏î‡πÅ‡∏ö‡∏ö ‚Üí ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ offset
- ‡∏ñ‡πâ‡∏≤ offset ‡∏°‡∏≤‡∏Å ‚Üí ‡πÉ‡∏ä‡πâ offset ‡∏ó‡∏µ‡πà‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÑ‡∏î‡πâ

---

## üìã ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ï‡πà‡∏≤‡∏á‡πÜ:

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á 1: Office Building (Units: meters)

```bash
./auto_place_detectors.sh office_plan.dxf
```

**Auto-detected:**
- Units: m
- Room layers: ROOMS, WALLS
- Offset: (0, 0) - already aligned
- Result: 45 rooms, 48 detectors ‚úÖ

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á 2: RCP Plan (Units: mm, Multiple coordinates)

```bash
./auto_place_detectors.sh rcp_plan.dxf
```

**Auto-detected:**
- Units: mm
- Room layers: 00_VAV_ZONE, E-FIRE
- Offset: (+300000, 0) - needs alignment
- Result: 101 rooms, 99 detectors ‚úÖ

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á 3: Residential (Units: feet)

```bash
./auto_place_detectors.sh house_plan.dxf
```

**Auto-detected:**
- Units: ft
- Room layers: ARCHITECTURE
- Offset: (0, 0) - already aligned
- Result: 12 rooms, 15 detectors ‚úÖ

---

## ‚öôÔ∏è ‡∏ñ‡πâ‡∏≤ Auto-Detection ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á:

### ‡∏õ‡∏¥‡∏î Auto Mode ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏≠‡∏á:

#### ‡πÉ‡∏ô GUI:
1. ‚ùå ‡∏õ‡∏¥‡∏î checkbox "Auto Mode"
2. ‡∏à‡∏∞‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
3. ‡∏£‡∏∞‡∏ö‡∏∏ layers, offset, units ‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á

#### ‡πÉ‡∏ô Command Line:
```bash
python3 smoke_detector_placer.py input.dxf \
    --rooms-layer YOUR_LAYER \
    --units mm \
    --offset-x 12345 --offset-y 6789
```

### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏£‡∏±‡∏ô:

```bash
python3 smoke_detector_placer.py input.dxf --inspect
```

‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á:
- ‡∏Ç‡∏ô‡∏≤‡∏î‡πÅ‡∏ö‡∏ö‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ß‡∏±‡∏î
- Layers ‡∏ó‡∏µ‡πà‡∏°‡∏µ closed polygons
- ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡πâ‡∏≠‡∏á‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞ layer

---

## üìä ‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏î‡∏™‡∏≠‡∏ö:

### Test Case 1: Standard Office (Auto should work)
```
File: office_floor_plan.dxf
Expected: Auto-detect everything ‚úÖ
```

### Test Case 2: RCP with zones (Auto should work)
```
File: RCP-FO10,11,12,16-AR-1.dxf
Expected: Auto-detect + offset calculation ‚úÖ
```

### Test Case 3: Simple house plan (Auto should work)
```
File: simple_house.dxf
Expected: Auto-detect, no offset needed ‚úÖ
```

### Test Case 4: Complex multi-floor (May need manual)
```
File: multi_floor_complex.dxf
Expected: May need --rooms-layer specification
```

---

## üí° Best Practices:

### 1. ‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ Auto ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏™‡∏°‡∏≠

```bash
./auto_place_detectors.sh input.dxf
```

‡∏ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏î‡∏µ ‚Üí **‡πÄ‡∏™‡∏£‡πá‡∏à!**

### 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

```bash
python3 verify_standards.py
python3 detailed_inspection.py
```

### 3. ‡∏ñ‡πâ‡∏≤‡∏ú‡∏•‡πÑ‡∏°‡πà‡∏î‡∏µ ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏ü‡∏•‡πå

```bash
python3 smoke_detector_placer.py input.dxf --inspect
```

### 4. ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á parameters

```bash
python3 smoke_detector_placer.py input.dxf \
    --rooms-layer CORRECT_LAYER \
    --units mm \
    --offset-x 0 --offset-y 0
```

---

## üéì ‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö:

### ‚úÖ ‡πÑ‡∏ü‡∏•‡πå DXF ‡∏ó‡∏µ‡πà‡∏î‡∏µ:
- ‡∏°‡∏µ closed polygons ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡πâ‡∏≠‡∏á
- Layer names ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô (ROOMS, WALLS, etc.)
- Coordinate system ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß

### ‚ö†Ô∏è ‡πÑ‡∏ü‡∏•‡πå DXF ‡∏ó‡∏µ‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô:
- ‡∏´‡∏•‡∏≤‡∏¢ coordinate systems
- Room zones ‡πÅ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å architectural elements
- ‚Üí ‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏ offset ‡πÄ‡∏≠‡∏á

### üí° ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:
- ‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ Auto ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏™‡∏°‡∏≠
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏î‡πâ‡∏ß‡∏¢ verify scripts
- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å ‡∏Ñ‡πà‡∏≠‡∏¢‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á

---

## üìñ ‡∏™‡∏£‡∏∏‡∏õ:

**‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÄ‡∏õ‡πá‡∏ô Universal ‡πÅ‡∏•‡πâ‡∏ß!**

- ‚úÖ ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå DXF ‡πÑ‡∏´‡∏ô‡∏Å‡πá‡πÑ‡∏î‡πâ
- ‚úÖ Auto-detect ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á
- ‚úÖ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á hardcode ‡∏Ñ‡πà‡∏≤
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö units ‡∏ó‡∏∏‡∏Å‡πÅ‡∏ö‡∏ö
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö layer names ‡∏ó‡∏∏‡∏Å‡πÅ‡∏ö‡∏ö
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö coordinate systems ‡∏ó‡∏∏‡∏Å‡πÅ‡∏ö‡∏ö

**‡πÅ‡∏Ñ‡πà‡πÉ‡∏™‡πà‡πÑ‡∏ü‡∏•‡πå ‚Üí ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° ‚Üí ‡πÄ‡∏™‡∏£‡πá‡∏à!** üéâ

---

**Try it with your own DXF files now!** üöÄ

```bash
./auto_place_detectors.sh your_building.dxf
```

